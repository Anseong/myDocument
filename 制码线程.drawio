<mxfile host="app.diagrams.net" modified="2023-12-27T08:19:25.786Z" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36" etag="zjVtddNhDpVBLGqV37xu" version="22.1.12" type="github">
  <diagram name="第 1 页" id="3bkrZKrF0plEzQzwkOfd">
    <mxGraphModel dx="1194" dy="731" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="-AldKYiVUSMyidhytugl-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="-AldKYiVUSMyidhytugl-1" target="-AldKYiVUSMyidhytugl-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-AldKYiVUSMyidhytugl-1" value="采购商或者内部异步下单开始" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="70" y="50" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="-AldKYiVUSMyidhytugl-5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="-AldKYiVUSMyidhytugl-2" target="-AldKYiVUSMyidhytugl-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-AldKYiVUSMyidhytugl-2" value="发送出码mq消息" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="70" y="220" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="-AldKYiVUSMyidhytugl-4" value="更新订单状态：5， 是否出码中：是" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="70" y="340" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="-AldKYiVUSMyidhytugl-8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="-AldKYiVUSMyidhytugl-6" target="-AldKYiVUSMyidhytugl-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-AldKYiVUSMyidhytugl-6" value="出码消费这" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="390" y="50" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="-AldKYiVUSMyidhytugl-10" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="-AldKYiVUSMyidhytugl-7" target="-AldKYiVUSMyidhytugl-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-AldKYiVUSMyidhytugl-7" value="查询订单信息" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="390" y="220" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="-AldKYiVUSMyidhytugl-12" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="-AldKYiVUSMyidhytugl-9" target="-AldKYiVUSMyidhytugl-20">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="550" y="390" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-AldKYiVUSMyidhytugl-13" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="-AldKYiVUSMyidhytugl-12">
          <mxGeometry x="-0.3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-AldKYiVUSMyidhytugl-15" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="-AldKYiVUSMyidhytugl-9" target="-AldKYiVUSMyidhytugl-14">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-AldKYiVUSMyidhytugl-16" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="-AldKYiVUSMyidhytugl-15">
          <mxGeometry x="-0.125" y="3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-AldKYiVUSMyidhytugl-9" value="校验订单状态是否&amp;gt;5&amp;nbsp;" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="410" y="350" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="-AldKYiVUSMyidhytugl-18" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="-AldKYiVUSMyidhytugl-14" target="-AldKYiVUSMyidhytugl-20">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="580" y="550" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-AldKYiVUSMyidhytugl-19" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="-AldKYiVUSMyidhytugl-18">
          <mxGeometry x="-0.12" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-AldKYiVUSMyidhytugl-22" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="-AldKYiVUSMyidhytugl-14" target="-AldKYiVUSMyidhytugl-21">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-AldKYiVUSMyidhytugl-23" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="-AldKYiVUSMyidhytugl-22">
          <mxGeometry x="-0.1111" y="4" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-AldKYiVUSMyidhytugl-14" value="校验订单状态是否=5 且未撤销" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="395" y="510" width="110" height="80" as="geometry" />
        </mxCell>
        <mxCell id="-AldKYiVUSMyidhytugl-20" value="结束" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="990" y="350" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="-AldKYiVUSMyidhytugl-25" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="-AldKYiVUSMyidhytugl-21" target="-AldKYiVUSMyidhytugl-24">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-AldKYiVUSMyidhytugl-21" value="根据类型请求供应商出码" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="390" y="660" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="-AldKYiVUSMyidhytugl-28" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="-AldKYiVUSMyidhytugl-24" target="-AldKYiVUSMyidhytugl-27">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-AldKYiVUSMyidhytugl-29" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="-AldKYiVUSMyidhytugl-28">
          <mxGeometry x="-0.3" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-AldKYiVUSMyidhytugl-31" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="-AldKYiVUSMyidhytugl-24" target="-AldKYiVUSMyidhytugl-30">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-AldKYiVUSMyidhytugl-24" value="是否成功且没有异常" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="410" y="790" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="-AldKYiVUSMyidhytugl-33" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="-AldKYiVUSMyidhytugl-27" target="-AldKYiVUSMyidhytugl-32">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-AldKYiVUSMyidhytugl-27" value="redis中订单的失败数量+1" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="550" y="800" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="-AldKYiVUSMyidhytugl-30" value="根据供应商同步异步进行处理订单状态6或者7" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="390" y="960" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="-AldKYiVUSMyidhytugl-36" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="-AldKYiVUSMyidhytugl-32" target="-AldKYiVUSMyidhytugl-35">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-AldKYiVUSMyidhytugl-37" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="-AldKYiVUSMyidhytugl-36">
          <mxGeometry x="-0.1556" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-AldKYiVUSMyidhytugl-40" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="-AldKYiVUSMyidhytugl-32" target="-AldKYiVUSMyidhytugl-39">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-AldKYiVUSMyidhytugl-41" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="-AldKYiVUSMyidhytugl-40">
          <mxGeometry x="-0.2" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-AldKYiVUSMyidhytugl-32" value="redis中失败次数是否=16" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="770" y="790" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="-AldKYiVUSMyidhytugl-34" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1.042;entryY=0.588;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="-AldKYiVUSMyidhytugl-30" target="-AldKYiVUSMyidhytugl-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-AldKYiVUSMyidhytugl-35" value="重新发送mq消息，返回成功" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="750" y="680" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="-AldKYiVUSMyidhytugl-38" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.733;entryY=0.975;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="-AldKYiVUSMyidhytugl-35" target="-AldKYiVUSMyidhytugl-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-AldKYiVUSMyidhytugl-42" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="-AldKYiVUSMyidhytugl-39" target="-AldKYiVUSMyidhytugl-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-AldKYiVUSMyidhytugl-39" value="返回失败，等下一次重试" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="750" y="920" width="120" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
